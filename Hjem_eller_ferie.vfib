{"name":"Hjem eller ferie","type":"virtual_device","properties":{"deviceIcon":0,"currentIcon":"0","log":"","logTemp":"","mainLoop":"--[[\n%% autostart\n%% properties\n%% globals\nstatusHome\ntempStueHol\ntempStueVac\ntempBadHol\ntempBadVac\ntempMathiasHol\ntempMathiasVac\ntempSofieHol\ntempSofieVac\n--]]\n\nlocal device = fibaro:getSelfId();\nlocal delay = 2000\nlocal status = \"statusHome\"\nlocal sliders = {\"sldStueHol\",\"sldStueVac\",\"sldBadHol\",\"sldBadVac\",\"sldMathiasHol\",\"sldMathiasVac\",\"sldSofieHol\",\"sldSofieVac\"}\nlocal slidersval = {\"tempStueHol\",\"tempStueVac\",\"tempBadHol\",\"tempBadVac\",\"tempMathiasHol\",\"tempMathiasVac\",\"tempSofieHol\",\"tempSofieVac\"}\nlocal numbers = 8\n\nfibaro:call(device, \"setProperty\", \"ui.lblStatus.value\", fibaro:getGlobalValue(status))\n\nif numbers >= 1 then\n  fibaro:call(device, \"setProperty\", \"ui.\" .. sliders[1] .. \".value\", fibaro:getGlobalValue(slidersval[1])) \nend\nif numbers >= 2 then\n  fibaro:call(device, \"setProperty\", \"ui.\" .. sliders[2] .. \".value\", fibaro:getGlobalValue(slidersval[2])) \nend\nif numbers >= 3 then\n  fibaro:call(device, \"setProperty\", \"ui.\" .. sliders[3] .. \".value\", fibaro:getGlobalValue(slidersval[3])) \nend\nif numbers >= 4 then\n  fibaro:call(device, \"setProperty\", \"ui.\" .. sliders[4] .. \".value\", fibaro:getGlobalValue(slidersval[4])) \nend\nif numbers >= 5 then\n  fibaro:call(device, \"setProperty\", \"ui.\" .. sliders[5] .. \".value\", fibaro:getGlobalValue(slidersval[5])) \nend\nif numbers >= 6 then\n  fibaro:call(device, \"setProperty\", \"ui.\" .. sliders[6] .. \".value\", fibaro:getGlobalValue(slidersval[6])) \nend\nif numbers >= 7 then\n  fibaro:call(device, \"setProperty\", \"ui.\" .. sliders[7] .. \".value\", fibaro:getGlobalValue(slidersval[7])) \nend\nif numbers >= 8 then\n  fibaro:call(device, \"setProperty\", \"ui.\" .. sliders[8] .. \".value\", fibaro:getGlobalValue(slidersval[8])) \nend\n\n-- Delay the Main loop \nfibaro:sleep(delay);","ui.lblStatus.value":"Home","ui.sldBadHol.value":19,"ui.sldBadVac.value":16,"ui.sldMathiasHol.value":20,"ui.sldMathiasVac.value":16,"ui.sldSofieHol.value":20,"ui.sldSofieVac.value":16,"ui.sldStueHol.value":19,"ui.sldStueVac.value":16,"visible":"true","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Status","name":"lblStatus","favourite":false,"main":false}]},{"type":"button","elements":[{"id":2,"lua":true,"waitForResponse":false,"caption":"Home","name":"lblHomeON","empty":false,"msg":"fibaro:setGlobal(\"statusHome\", \"Home\")","buttonIcon":0,"favourite":false,"main":false},{"id":3,"lua":true,"waitForResponse":false,"caption":"Holiday","name":"lblHolidayON","empty":false,"msg":"fibaro:setGlobal(\"statusHome\", \"Holiday\")","buttonIcon":0,"favourite":false,"main":false},{"id":4,"lua":true,"waitForResponse":false,"caption":"Vacation","name":"lblVacationON","empty":false,"msg":"fibaro:setGlobal(\"statusHome\", \"Vacation\")","buttonIcon":0,"favourite":false,"main":false}]},{"type":"slider","elements":[{"id":5,"lua":true,"waitForResponse":false,"caption":"Stue Holiday","name":"sldStueHol","msg":"local slider = \"sldStueHol\"\t\t-- Slider ID -> Change\nlocal global = \"tempStueHol\"\t-- Global variable -> Change\nlocal device = fibaro:getSelfId();\n\nfunction map_range( a1, a2, b1, b2, s )\nreturn b1 + (s-a1)*(b2-b1)/(a2-a1)\nend\n\nlocal V_Slider = map_range(0, 100, 10, 25, _sliderValue_ );\nlocal Slider = math.floor(V_Slider)\n\nfibaro:call(device, \"setProperty\", \"ui.\" .. slider .. \".value\", Slider) \nfibaro:setGlobal(global, Slider) ","buttonIcon":0,"value":19,"favourite":false,"main":false}]},{"type":"slider","elements":[{"id":6,"lua":true,"waitForResponse":false,"caption":"Stue Vacation","name":"sldStueVac","msg":"local slider = \"sldStueVac\"\t\t-- Slider ID -> Change\nlocal global = \"tempStueVac\"\t-- Global variable -> Change\nlocal device = fibaro:getSelfId();\n\nfunction map_range( a1, a2, b1, b2, s )\nreturn b1 + (s-a1)*(b2-b1)/(a2-a1)\nend\n\nlocal V_Slider = map_range(0, 100, 10, 25, _sliderValue_ );\nlocal Slider = math.floor(V_Slider)\n\nfibaro:call(device, \"setProperty\", \"ui.\" .. slider .. \".value\", Slider) \nfibaro:setGlobal(global, Slider) ","buttonIcon":0,"value":16,"favourite":false,"main":false}]},{"type":"slider","elements":[{"id":7,"lua":true,"waitForResponse":false,"caption":"Bad Holiday","name":"sldBadHol","msg":"local slider = \"sldBadHol\"\t\t-- Slider ID -> Change\nlocal global = \"tempBadHol\"\t\t-- Global variable -> Change\nlocal device = fibaro:getSelfId();\n\nfunction map_range( a1, a2, b1, b2, s )\nreturn b1 + (s-a1)*(b2-b1)/(a2-a1)\nend\n\nlocal V_Slider = map_range(0, 100, 10, 25, _sliderValue_ );\nlocal Slider = math.floor(V_Slider)\n\nfibaro:call(device, \"setProperty\", \"ui.\" .. slider .. \".value\", Slider) \nfibaro:setGlobal(global, Slider) ","buttonIcon":0,"value":19,"favourite":false,"main":false}]},{"type":"slider","elements":[{"id":8,"lua":true,"waitForResponse":false,"caption":"Bad Vacation","name":"sldBadVac","msg":"local slider = \"sldBadVac\"\t\t-- Slider ID -> Change\nlocal global = \"tempBadVac\"\t\t-- Global variable -> Change\nlocal device = fibaro:getSelfId();\n\nfunction map_range( a1, a2, b1, b2, s )\nreturn b1 + (s-a1)*(b2-b1)/(a2-a1)\nend\n\nlocal V_Slider = map_range(0, 100, 10, 25, _sliderValue_ );\nlocal Slider = math.floor(V_Slider)\n\nfibaro:call(device, \"setProperty\", \"ui.\" .. slider .. \".value\", Slider) \nfibaro:setGlobal(global, Slider) ","buttonIcon":0,"value":16,"favourite":false,"main":false}]},{"type":"slider","elements":[{"id":9,"lua":true,"waitForResponse":false,"caption":"Mathias Hol","name":"sldMathiasHol","msg":"local slider = \"sldMathiasHol\"\t\t-- Slider ID -> Change\nlocal global = \"tempMathiasHol\"\t\t-- Global variable -> Change\nlocal device = fibaro:getSelfId();\n\nfunction map_range( a1, a2, b1, b2, s )\nreturn b1 + (s-a1)*(b2-b1)/(a2-a1)\nend\n\nlocal V_Slider = map_range(0, 100, 10, 25, _sliderValue_ );\nlocal Slider = math.floor(V_Slider)\n\nfibaro:call(device, \"setProperty\", \"ui.\" .. slider .. \".value\", Slider) \nfibaro:setGlobal(global, Slider) ","buttonIcon":0,"value":20,"favourite":false,"main":false}]},{"type":"slider","elements":[{"id":10,"lua":true,"waitForResponse":false,"caption":"Mathias Vac","name":"sldMathiasVac","msg":"local slider = \"sldMathiasVac\"\t\t-- Slider ID -> Change\nlocal global = \"tempMathiasVac\"\t\t-- Global variable -> Change\nlocal device = fibaro:getSelfId();\n\nfunction map_range( a1, a2, b1, b2, s )\nreturn b1 + (s-a1)*(b2-b1)/(a2-a1)\nend\n\nlocal V_Slider = map_range(0, 100, 10, 25, _sliderValue_ );\nlocal Slider = math.floor(V_Slider)\n\nfibaro:call(device, \"setProperty\", \"ui.\" .. slider .. \".value\", Slider) \nfibaro:setGlobal(global, Slider) ","buttonIcon":0,"value":16,"favourite":false,"main":false}]},{"type":"slider","elements":[{"id":11,"lua":true,"waitForResponse":false,"caption":"Sofie Hol","name":"sldSofieHol","msg":"local slider = \"sldSofieHol\"\t\t-- Slider ID -> Change\nlocal global = \"tempSofieHol\"\t\t-- Global variable -> Change\nlocal device = fibaro:getSelfId();\n\nfunction map_range( a1, a2, b1, b2, s )\nreturn b1 + (s-a1)*(b2-b1)/(a2-a1)\nend\n\nlocal V_Slider = map_range(0, 100, 10, 25, _sliderValue_ );\nlocal Slider = math.floor(V_Slider)\n\nfibaro:call(device, \"setProperty\", \"ui.\" .. slider .. \".value\", Slider) \nfibaro:setGlobal(global, Slider) ","buttonIcon":0,"value":20,"favourite":false,"main":false}]},{"type":"slider","elements":[{"id":12,"lua":true,"waitForResponse":false,"caption":"Sofie Vac","name":"sldSofieVac","msg":"local slider = \"sldSofieVac\"\t\t-- Slider ID -> Change\nlocal global = \"tempSofieVac\"\t\t-- Global variable -> Change\nlocal device = fibaro:getSelfId();\n\nfunction map_range( a1, a2, b1, b2, s )\nreturn b1 + (s-a1)*(b2-b1)/(a2-a1)\nend\n\nlocal V_Slider = map_range(0, 100, 10, 25, _sliderValue_ );\nlocal Slider = math.floor(V_Slider)\n\nfibaro:call(device, \"setProperty\", \"ui.\" .. slider .. \".value\", Slider) \nfibaro:setGlobal(global, Slider) ","buttonIcon":0,"value":16,"favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}